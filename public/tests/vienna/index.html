<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>VIENNA</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
  <div id="initialScreen" class="screen">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <p id="instructionText">A continuación, usted verá videos de una persona caminando en unos pasillos. Mientras hace esto, la persona se detiene en las puertas y en las intersecciones de los pasillos para mirar a su alrededor. La persona puede girar en un cruce o darse la vuelta y caminar de regreso.</p>
                <audio id="instructionAudio1" controls>
                    <source src="" type="audio/mpeg">
                    Tu navegador no soporta el elemento de audio.
                </audio>
            </div>
        </div>
    </div>
      <div class="button-container">
          <button id="startButton"></button>
          <button id="fullScreenButton"></button>
      </div>
  </div>

  <div id="instructionScreen2" class="screen">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <p id="instructionText">Su tarea consistirá en intentar seguir mentalmente la ubicación actual de la persona e indicar, al final, qué puerta ha elegido usando el mapa que se muestra al lado del vídeo. El mapa no cambia su orientación; ni siquiera si la persona se da vuelta. Tan pronto como la persona haya elegido una puerta extendiendo su brazo hacia la manilla, por favor, toque la puerta correspondiente en el mapa.</p>
                <audio id="instructionAudio2" controls>
                    <source src="" type="audio/mpeg">
                    Tu navegador no soporta el elemento de audio.
                </audio>
            </div>
        </div>
    </div>
     <div class="button-container">
          <button id="nextButton1" class="arrow-button"></button>
      </div>
  </div>

  <div id="instructionScreen3" class="screen">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <p id="instructionText" style="margin-top: 20px;">Aquí usted puede ver un ejemplo de un mapa. Los iconos azules representan puertas en partes específicas del pasillo. La posición inicial de la persona está marcada en el mapa con la palabra 'Inicio'.</p>
                <br>
                <audio id="instructionAudio3" controls>
                    <source src="" type="audio/mpeg">
                    Tu navegador no soporta el elemento de audio.
                </audio>
                <div class="d-flex">
                 
                <img src="img/ejemplo.png" alt="" class="m-auto">
                </div>
            </div>
        </div>
    </div>
     
      <div class="button-container">
          <button id="nextButton2" class="arrow-button"></button>
      </div>
  </div>

  <div id="instructionScreen4" class="screen">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <p id="instructionText">Ahora usted completará una ronda de práctica. Los videos NO SE PUEDEN pausar y NO SE PUEDEN repetir, así que, por favor, preste mucha atención mientras se reproducen los videos. El mapa estará en el lado derecho de la pantalla. Después de unos segundos, el video comenzará a reproducirse automáticamente. Aproveche este tiempo para ubicar la posición inicial de la persona en el mapa.</p>
                <audio id="instructionAudio4" controls>
                    <source src="" type="audio/mpeg">
                    Tu navegador no soporta el elemento de audio.
                </audio>
            </div>
        </div>
    </div>
      <div class="button-container">
          <button id="nextButton3" class="arrow-button"></button>
      </div>
  </div>

  <div id="practiceInstructionScreen" class="screen">
    <div class="container-fluid">
        <div id="header">
            <h2 class="badge bg-light text-dark shadow" id="trialIndicator">I1</h2>
        </div>
        <div id="itemsTest1" class="row p-5">
            <div id="izquierda1"class="col-6 ">
                <video id="practiceVideo1" src="videos/Instructions.mp4" width="100%" autoplay muted></video>
            </div>
            <div id="derecha1" class="col-6">
                <canvas id="instructionCanvas" width="100%" ></canvas>
            </div>
        </div>
        <button id="resetButtonI1" class="btn btn-sm btn-light-outline mt-2" style="margin-left: 41px;">Reiniciar Video</button>
        <div id="buttonsI1" style="display: none;">
            <div class="row">
                <div class="col-6">
                    <button id="validateButtonI1" class="btn btn-block btn-sm btn-light-outline">Validar Selecciones</button>
                    <div class="row">
                        <div class="col-6">
                            <button id="showButtonI1" class="btn btn-block btn-sm btn-light-outline">Mostrar Puertas Correctas</button>
                        </div>
                        <div class="col-6">
                            <button id="hideButtonI1" class="btn btn-block btn-sm btn-light-outline">Ocultar Puertas Correctas</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <button id="showRotationErrorButtonI1" class="btn btn-block btn-sm btn-light-outline">Mostrar Errores de Rotación</button>
                        </div>
                        <div class="col-6">
                            <button id="hideRotationErrorButtonI1" class="btn btn-block btn-sm btn-light-outline">Ocultar Errores de Rotación</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <button id="showUpdateErrorButtonI1" class="btn btn-block btn-sm btn-light-outline">Mostrar Errores de Actualización</button>
                        </div>
                        <div class="col-6">
                            <button id="hideUpdateErrorButtonI1" class="btn btn-block btn-sm btn-light-outline">Ocultar Errores de Actualización</button>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    <div id="resultsI1"></div>
                </div>
            </div>
        </div>
        <div class="button-container">
            <button id="nextButtonPracticeInstruction" class="arrow-button"></button>
        </div>
    </div>
</div>


  <div id="practiceScreen1" class="screen">
    
      <div class="container-fluid">
        <div id="header">
            <h2 class="badge bg-light text-dark shadow" id="trialIndicator">P1</h2>
        </div>
          <div id="itemsTest2" class="row p-5">
              <div id="izquierda2" class="col-6 ">
                  <video id="practiceVideo2" src="videos/Practice_1.mp4" width="100%" autoplay muted></video>
              </div>
              <div id="derecha2" class="col-6 ">
                  <canvas id="practiceCanvas1" width="100%" ></canvas>
              </div>
          </div>
          <div id="buttonsP1" style="display: none;">
            <div class="row">
                <div class="col-6">
                    <button id="validateButtonP1" class="btn btn-block btn-sm btn-light-outline">Validar Selecciones</button>
                    <div class="row">
                        <div class="col-6">
                            <button id="showButtonP1" class="btn btn-block btn-sm btn-light-outline">Mostrar Puertas Correctas</button>
                        </div>
                        <div class="col-6">
                            <button id="hideButtonP1" class="btn btn-block btn-sm btn-light-outline">Ocultar Puertas Correctas</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <button id="showRotationErrorButtonP1" class="btn btn-block btn-sm btn-light-outline">Mostrar Errores de Rotación</button>
                        </div>
                        <div class="col-6">
                            <button id="hideRotationErrorButtonP1" class="btn btn-block btn-sm btn-light-outline">Ocultar Errores de Rotación</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <button id="showUpdateErrorButtonP1" class="btn btn-block btn-sm btn-light-outline">Mostrar Errores de Actualización</button>
                        </div>
                        <div class="col-6">
                            <button id="hideUpdateErrorButtonP1" class="btn btn-block btn-sm btn-light-outline">Ocultar Errores de Actualización</button>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    <div id="resultsP1"></div>
                </div>
            </div>
        </div>
          <div class="button-container">
              <button id="nextButtonPractice1" class="arrow-button"></button>
          </div>
      </div>
  </div>

  <div id="practiceScreen2" class="screen">
      <div class="container-fluid">
        <div id="header">
            <h2 class="badge bg-light text-dark shadow" id="trialIndicator">P2</h2>
        </div>
          <div id="itemsTest3" class="row p-5">
              <div id="izquierda3" class="col-6 ">
                  <video id="practiceVideo3" src="videos/Practice_2.mp4" width="100%" autoplay muted></video>
              </div>
              <div id="derecha3" class="col-6 ">
                  <canvas id="practiceCanvas2" width="100%" ></canvas>
              </div>
          </div>
          <div id="buttonsP2" style="display: none;">
    <div class="row" >
        <div class="col-6">
            <button id="validateButtonP2" class="btn btn-block btn-sm btn-light-outline">Validar Selecciones</button>
            <div class="row">
                <div class="col-6">
                    <button id="showButtonP2" class="btn btn-block btn-sm btn-light-outline">Mostrar Puertas Correctas</button>
                </div>
                <div class="col-6">
                    <button id="hideButtonP2" class="btn btn-block btn-sm btn-light-outline">Ocultar Puertas Correctas</button>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <button id="showRotationErrorButtonP2" class="btn btn-block btn-sm btn-light-outline">Mostrar Errores de Rotación</button>
                </div>
                <div class="col-6">
                    <button id="hideRotationErrorButtonP2" class="btn btn-block btn-sm btn-light-outline">Ocultar Errores de Rotación</button>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <button id="showUpdateErrorButtonP2" class="btn btn-block btn-sm btn-light-outline">Mostrar Errores de Actualización</button>
                </div>
                <div class="col-6">
                    <button id="hideUpdateErrorButtonP2" class="btn btn-block btn-sm btn-light-outline">Ocultar Errores de Actualización</button>
                </div>
            </div>
        </div>
        <div class="col-6">
            <div id="resultsP2"></div>
        </div>
    </div>
</div>
          <div class="button-container">
              <button id="nextButtonPractice2" class="arrow-button"></button>
          </div>
      </div>
  </div>

  <div id="preTestInstructionScreen" class="screen">
    <div class="container">
      <div class="row p-5">
        <div class="col-12 text-center">
          <p id="instructionText">
            Ahora comenzará la tarea de verdad. Recuerde intentar seguir mentalmente la ubicación actual de la persona en el mapa. Los videos no se pueden pausar ni repetir. Si no está seguro de qué puerta ha sido elegida, señale la opción que crea más probable. Por favor, responda tan rápido como pueda. ¿Está listo(a)?
          </p>
          <audio id="instructionAudio5" controls>
            <source src="" type="audio/mpeg">
            Tu navegador no soporta el elemento de audio.
          </audio>
        </div>
      </div>
    </div>
    <div class="button-container">
      <button id="nextButtonPreTestInstruction" class="arrow-button"></button>
    </div>
  </div>

  <div id="testScreen" class="screen">
      <div class="container-fluid">
          <div id="header">
              <h1 class="badge bg-light text-dark shadow" id="indicador"></h1>
            
          </div>
          
          
          <div id="itemsTest4" class="row p-5">
              <div id="izquierda4" class="col-6  p-0">
                  <video id="testVideo" src="videos/Test_1.mp4" width="100%" autoplay muted class="m-0"></video>
              </div>
              
              <div id="derecha4" class="col-6  p-0">
                  <canvas id="imageCanvas" class="m-0"></canvas>
     
              </div>
          </div>
          <div class="row">
           

            <div id="buttons" style="display: none;">
                <div class="row">
                    <div class="col-6">
                        <button id="validateButton" class="btn btn-block btn-sm btn-light-outline">Validar Selecciones</button>
                        <div class="row">
                            <div class="col-6">
                                <button id="showButton" class="btn btn-block btn-sm btn-light-outline">Mostrar Puertas Correctas</button>
                            </div>
                            <div class="col-6">
                                <button id="hideButton" class="btn btn-block btn-sm btn-light-outline">Ocultar Puertas Correctas</button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <button id="showRotationErrorButton" class="btn btn-block btn-sm btn-light-outline">Mostrar Errores de Rotación</button>
                            </div>
                            <div class="col-6">
                                <button id="hideRotationErrorButton" class="btn btn-block btn-sm btn-light-outline">Ocultar Errores de Rotación</button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <button id="showUpdateErrorButton" class="btn btn-block btn-sm btn-light-outline">Mostrar Errores de Actualización</button>
                            </div>
                            <div class="col-6">
                                <button id="hideUpdateErrorButton" class="btn btn-block btn-sm btn-light-outline">Ocultar Errores de Actualización</button>
                            </div>
                        </div>
                        
                    
                        
                         <!-- <button id="prevButton">Imagen Anterior</button> -->
                    </div> 
                    <div class="col-6">
                        <div id="results"></div>
                    </div>
                </div>
                
            </div>
            
          </div>
          <div class="button-container">
              <button id="nextButtonTest" class="arrow-button"></button>
          </div>
      </div>
  </div>

    <!-- SELECCION DE MANO HTML -->
    <div class="screen" id="preEnd" style="display: none; margin: 0px; padding: 0px; overflow: hidden;">
        <div id="fin" class="text-center" style="margin-bottom: 15vh;">
            <h1>¡Ha completado esta tarea con éxito!</h1>
            <br>
            <h1>¡Muchas gracias!</h1>
        </div>
        <div class="container-fluid d-flex justify-content-center">
            <div class="row justify-content-center" style="position: absolute; bottom: 15px;">
                <div id="selectHand" class="card opacity-75 col-3 col-md-4 col-xl-6  ms-3 p-3"
                    style="width: 40%; background-color: #f9f9f9;">
                    <div class="card-body" style="padding: 0;">
                        <h4>Mano usada</h4>
                        <div>
                            <input type="radio" id="right_hand" name="hand" value="derecha">
                            <label for="right_hand">Derecha</label>
                        </div>
                        <div>
                            <input type="radio" id="left_hand" name="hand" value="izquierda">
                            <label for="left_hand">Izquierda</label>
                        </div>
                        <div>
                            <input type="radio" id="both_hands" name="hand" value="ambas">
                            <label for="both_hands">Ambas</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button id="handButton" style="display: none;"></button>
    </div>

  <div id="completionScreen" class="screen">
    <!-- <h2>Se han completado todas las imágenes.</h2> -->
    <h1> ¡Ha completado esta tarea con éxito! </h1> <br>
    <h1> ¡Muchas gracias!</h1>
    <button id="downloadCSVButton" style="display: none;">Descargar Respuestas (CSV)</button>
  </div>

  <script src="script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
